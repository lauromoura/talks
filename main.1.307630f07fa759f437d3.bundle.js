(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{134:function(i,n,e){e(135),i.exports=e(342)},337:function(i,n,e){var l={"./talk.md":338};function t(i){var n=s(i);return e(n)}function s(i){if(!e.o(l,i)){var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}return l[i]}t.keys=function(){return Object.keys(l)},t.resolve=s,i.exports=t,t.id=337},338:function(i,n,e){i.exports='<h2 id="webassembly">WebAssembly</h2>\n<p>E o que Python tem a ver com isso</p>\n<hr>\n<h2 id="quem-sou">Quem sou</h2>\n<ul>\n<li>Desenvolvedor de software desde 2008</li>\n<li><code>[&#39;Recife&#39;].append(&#39;Florianópolis&#39;)</code></li>\n<li>2008~15 Instituto Nokia de Tecnologia</li>\n<li>2015~ Expertise Solutions</li>\n<li>Projetos:<ul>\n<li>PySide</li>\n<li>Webkit</li>\n<li>EFL (JS, C#)</li>\n</ul>\n</li>\n<li>Contato:<ul>\n<li>Twitter: lauromoura</li>\n<li>Github: lauromoura</li>\n<li>email: lauromoura at gmail.com</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="no-começo-era-o-javascript">No começo, era o javascript</h2>\n<ul>\n<li><a href="http://speakingjs.com/es5/ch04.html">Hack de 10 dias em 1995</a></li>\n<li>Que virou um dos pilares da web<ul>\n<li>Junto com HTML e CSS</li>\n</ul>\n</li>\n<li>Alto nível, prototypes, sintaxe que lembra Java/C e afins</li>\n<li>Principais implementações<ul>\n<li>V8 - Blink (Chrome, Edge) e Node</li>\n<li>JavaScriptCore - Webkit (Safari)</li>\n<li>Spidermonkey - Gecko (Firefox)</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="problemas">Problemas...</h2>\n<img src="'+e(339)+'" />\n\n<hr>\n<h2 id="problemas-1">Problemas</h2>\n<ul>\n<li>Array(16).join(&quot;LoL&quot; - 2) + &quot; Batman!&quot;</li>\n<li>Ficar preso a uma única linguagem<ul>\n<li><a href="https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js">Transpilers e afins</a></li>\n<li>Ainda assim, é Javascript</li>\n</ul>\n</li>\n<li><a href="https://medium.com/@addyosmani/the-cost-of-javascript-in-2018-7d8950fbb5d4">TOO MUCH JS</a></li>\n<li>Alto nível demais<ul>\n<li>Problema ao usar JS normal como &quot;assembly&quot;</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="problemas-2">Problemas</h2>\n<pre><code class="language-js">!function(e,t){&quot;use strict&quot;;&quot;object&quot;==typeof\nmodule&amp;&amp;&quot;object&quot;==typeofmodule.exports?\nmodule.exports=e.document?t(e,!0):function(e){\nif(!e.document)throw new Error(&quot;jQuery\nrequires a window with a document&quot;);\nreturn t(e)}:t(e)}(&quot;undefined&quot;!=typeof\nwindow?window:this,function(e,t){&quot;use strict&quot;;\nvar n=[],r=e.document,i=Object.getPrototypeOf,\no=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},\n...</code></pre>\n<hr>\n<h2 id="porque-é-tão-pesado">Porque é tão pesado?</h2>\n<ul>\n<li><a href="https://blog.sessionstack.com/how-javascript-works-a-comparison-with-webassembly-why-in-certain-cases-its-better-to-use-it-d80945172d79">Javascript</a><ul>\n<li><a href="http://www.mattzeunert.com/2017/01/30/lazy-javascript-parsing-in-v8.html">Parsear</a></li>\n<li>Gerar bytecode</li>\n<li>Otimizar (JIT e afins)</li>\n<li>Re-Otimizar</li>\n<li>Rodar</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="assembly-na-web">&quot;Assembly&quot; na Web</h2>\n<hr>\n<h2 id="asmjs">asm.js</h2>\n<ul>\n<li><a href="http://asmjs.org/faq.html">Subset de Javascript</a></li>\n<li>Dicas para o interpretador do código que vai ser executado</li>\n<li>Permite otimizações mais certeiras e eficientes</li>\n</ul>\n<hr>\n<h2 id="asmjs---c">asm.js - C</h2>\n<pre><code class="language-c">size_t strlen(char *ptr) {\n  char *curr = ptr;\n  while (*curr != 0) {\n    curr++;\n  }\n  return (curr - ptr);\n}</code></pre>\n<hr>\n<h2 id="asmjs---js">asm.js - js</h2>\n<pre><code class="language-javascript">function strlen(ptr) {\n  ptr = ptr|0;\n  var curr = 0;\n  curr = ptr;\n  while (MEM8[curr]|0 != 0) {\n    curr = (curr + 1)|0;\n  }\n  return (curr - ptr)|0;\n}</code></pre>\n<hr>\n<h2 id="asmjs-1">asm.js</h2>\n<ul>\n<li>Ainda é javascript</li>\n<li>Ainda precisa ser parseado</li>\n<li>Pode ser melhorado</li>\n</ul>\n<hr>\n<h2 id="webassembly-1">WebAssembly</h2>\n<hr>\n<h2 id="webassembly-2">WebAssembly</h2>\n<ul>\n<li>Formato binário<ul>\n<li>Não precisa ser parseado, apenas decodado</li>\n</ul>\n</li>\n<li>Tipos já determinados</li>\n<li>VM em pilha</li>\n<li><a href="https://caniuse.com/#feat=wasm">Suporte</a> a uma versão MVP nos 4 principais navegadores</li>\n<li>Gerenciamento manual de memória</li>\n</ul>\n<hr>\n<h2 id="webassembly-text-format">WebAssembly Text Format</h2>\n<pre><code class="language-wast">(module\n        (func $addTwo (param $lhs i32)\n                      (param $rhs i32)\n                      (result i32)\n                get_local $lhs\n                get_local $rhs\n                i32.add)\n        (export &quot;addTwo&quot; (func $addTwo))\n)</code></pre>\n<hr>\n<h2 id="processador-hipotético">Processador hipotético</h2>\n<ul>\n<li>8-bit bytes</li>\n<li>Memória byte a byte<ul>\n<li><a href="https://webassembly.github.io/spec/core/syntax/modules.html#syntax-mem">Linear</a></li>\n</ul>\n</li>\n<li>Suporte a acessos não-alinhados</li>\n<li>Inteiros de 32bits e opcionalmente 64bits</li>\n<li>IEEE 754-2008 para floats de 32 e 64bits<ul>\n<li>Mas sem exceções p/ NaN por enquanto</li>\n</ul>\n</li>\n<li>Little endian</li>\n<li>Ponteiros de 32bits<ul>\n<li>wasm64 suporta ponteiros de 64bits</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="syscalls-e-afins">Syscalls e afins</h2>\n<ul>\n<li>Não existem (ainda)<ul>\n<li><a href="https://github.com/WebAssembly/tool-conventions/issues/27">ABI em discussão</a></li>\n</ul>\n</li>\n<li>Atualmente cada host expõe uma API</li>\n<li><a href="https://wasi.dev/">WASI</a> a caminho<ul>\n<li>Arquivos e sistemas de arquivos</li>\n<li>Sockets</li>\n<li>Relógios</li>\n<li>Random</li>\n<li>Etc</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="emscripten">emscripten</h2>\n<hr>\n<h2 id="emscripten-1">emscripten</h2>\n<ul>\n<li>Backend LLVM</li>\n<li>clang como frontend</li>\n<li>Gera código asm.js ou WebAssembly</li>\n<li>Usos<ul>\n<li>Unity</li>\n<li>Qt</li>\n<li>DOSBox</li>\n<li><strong>Pyodide</strong></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="emscripten-2">emscripten</h2>\n<img src="'+e(340)+'" />\n\n<hr>\n<h2 id="emscripten-runtime-environment">emscripten runtime environment</h2>\n<ul>\n<li><a href="https://github.com/emscripten-ports">Ports</a><ul>\n<li><a href="https://github.com/emscripten-ports/SDL2">SDL 2.0</a></li>\n<li>...</li>\n</ul>\n</li>\n<li><a href="https://kripken.github.io/emscripten-site/docs/porting/multimedia_and_graphics/OpenGL-support.html">OpenGL ES 2.0</a></li>\n<li><a href="https://kripken.github.io/emscripten-site/docs/porting/files/file_systems_overview.html#file-system-overview">Sistema de arquivos virtual</a><ul>\n<li>MEMFS</li>\n<li>IDBFS</li>\n<li>NODEFS (node.js)</li>\n</ul>\n</li>\n<li><a href="https://kripken.github.io/emscripten-site/docs/porting/emscripten-runtime-environment.html#emscripten-memory-representation">Memória</a><ul>\n<li>Typed Array único</li>\n<li>Várias views (int, float, etc)</li>\n</ul>\n</li>\n<li><a href="https://kripken.github.io/emscripten-site/docs/porting/pthreads.html">pthreads</a><ul>\n<li>asm.js</li>\n<li>Experimental em WebAssembly</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="emscripten---main-loop">emscripten - main loop</h2>\n<ul>\n<li><a href="https://flaviocopes.com/javascript-event-loop/">Não pode bloquear</a></li>\n<li>Função de iteração</li>\n<li><a href="https://kripken.github.io/emscripten-site/docs/api_reference/emscripten.h.html#c.emscripten_set_main_loop_arg">emscripten_set_main_loop</a></li>\n<li><a href="https://kripken.github.io/emscripten-site/docs/api_reference/emscripten.h.html#c.emscripten_cancel_main_loop">emscripten_cancel_main_loop</a></li>\n</ul>\n<hr>\n<h2 id="emscripten---linkagem-e-memória">emscripten - linkagem e memória</h2>\n<ul>\n<li><a href="https://github.com/kripken/emscripten/wiki/Linking">Linkagem estática</a><ul>\n<li>Como garantir de onde as libs vem?</li>\n<li>Módulos JS dinamicamente</li>\n</ul>\n</li>\n<li><a href="https://kripken.github.io/emscripten-site/docs/porting/Debugging.html#memory-alignment-issues">Problemas com acessos desalinhados</a><ul>\n<li>SAFE_HEAP para diagnóstico</li>\n</ul>\n</li>\n</ul>\n<hr>\n<img src="'+e(341)+'" />\n\n<hr>\n<h2 id="python-no-frontend">Python no frontend</h2>\n<ul>\n<li>Transpilers<ul>\n<li><a href="https://www.transcrypt.org/">Transcrypt</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="demos">Demos</h2>\n<hr>\n<h2 id="hoje-e-amanhã">Hoje e Amanhã</h2>\n<hr>\n<h2 id="hoje">Hoje</h2>\n<ul>\n<li>C/C++</li>\n<li><a href="https://rustwasm.github.io/book/">Rust</a></li>\n<li><a href="https://webassembly.org/docs/mvp/">MVP nos principais navegadores.</a><ul>\n<li>Módulo exportado</li>\n<li>Instruções</li>\n<li>Formato binário</li>\n<li>Formato textual</li>\n<li>Implementações nos browsers e outros ambientes</li>\n</ul>\n</li>\n<li><a href="https://github.com/iodide-project/pyodide">Python</a></li>\n</ul>\n<hr>\n<h2 id="amanhã-e-depois-de-amanhã">Amanhã (e depois de amanhã)</h2>\n<ul>\n<li><a href="https://webassembly.org/roadmap/">Roadmap</a><ul>\n<li>Especificação</li>\n<li>Threads</li>\n<li>GC</li>\n<li>Exceções</li>\n<li>Host bindings (DOM/JS)</li>\n<li>Ferramentas</li>\n<li>Multi processos (fork &amp; cia)</li>\n<li>Mais controle de memória</li>\n<li>ABI</li>\n<li><a href="https://www.fastly.com/blog/hijacking-control-flow-webassembly">Segurança</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="links-úteis">Links úteis</h2>\n<ul>\n<li>Projeto<ul>\n<li><a href="https://webassembly.org">https://webassembly.org</a></li>\n</ul>\n</li>\n<li>MUITOS links de projetos, ferramentas, etc<ul>\n<li><a href="https://github.com/mbasso/awesome-wasm">https://github.com/mbasso/awesome-wasm</a></li>\n</ul>\n</li>\n<li>WebAssembly and the Death of Javascript<ul>\n<li><a href="https://www.youtube.com/watch?v=pBYqen3B2gc">https://www.youtube.com/watch?v=pBYqen3B2gc</a> </li>\n</ul>\n</li>\n<li>Emscripten<ul>\n<li><a href="https://kripken.github.io/emscripten-site/index.html">https://kripken.github.io/emscripten-site/index.html</a></li>\n</ul>\n</li>\n<li>Blog da Mozilla<ul>\n<li><a href="https://hacks.mozilla.org/category/webassembly/">https://hacks.mozilla.org/category/webassembly/</a></li>\n</ul>\n</li>\n<li>Pyodide<ul>\n<li><a href="https://github.com/iodide-project/pyodide">https://github.com/iodide-project/pyodide</a></li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id="perguntas">Perguntas</h2>\n<hr>\n<h2 id="obrigado">Obrigado</h2>\n'},339:function(i,n,e){i.exports=e.p+"24e132cbbeaf08e4cecc878895e3f01b.png"},340:function(i,n,e){i.exports=e.p+"0c62e279077436571086dac3440e88b1.png"},341:function(i,n,e){i.exports=e.p+"de1a5562b8a8884356a8eec9e898c6d0.png"}},[[134,3,5]],[0]]);